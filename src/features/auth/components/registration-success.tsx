import { CircleCheck } from 'lucide-react'
import { useTranslations } from 'next-intl'
import { useState } from 'react'
import LottiePlayer from 'react-lottie-player'

import { Button } from '@/components/ui/button'
import { Link } from '@/i18n/routing'
import { cn } from '@/lib/utils'
import loadingData from '~/public/loading.json'

export default function RegistrationSuccess() {
  const [isLoading, setIsLoading] = useState(true)
  const t = useTranslations('Common')

  return (
    <div className="flex flex-col items-center">
      <h1 className="mb-5 text-center text-2xl font-bold text-white">การสมัครสมาชิกสำเร็จ</h1>
      <div className="relative size-[300px]">
        <LottiePlayer
          play
          animationData={loadingData}
          onComplete={() => setIsLoading(false)}
          loop={false}
          className={cn('opacity-100', !isLoading && 'opacity-0')}
        />
        <CircleCheck
          className={cn(
            'absolute left-1/2 top-1/2 size-[200px] -translate-x-1/2 -translate-y-1/2 text-[#37B97C] opacity-0',
            !isLoading && 'opacity-1',
          )}
        />
      </div>
      <p className="mb-[90px] text-center text-white">
        ขอบคุณที่สมัครสมาชิกกับเรา
        <br />
        คุณสามารถเริ่มใช้งานเว็ปไซต์ &quot;ส่องพระ&quot;
        เพื่อทำการซื้อขายและประมูลพระเครื่องได้ทันที
      </p>
      <Button asChild type="button" className="h-12 gap-2 rounded-full text-2xl text-black">
        <Link href="/login">
          <ThaiDecorativeIcon />
          {t('login')}
          <ThaiDecorativeIcon />
        </Link>
      </Button>
    </div>
  )
}

function ThaiDecorativeIcon() {
  return (
    <svg width="29" height="29" viewBox="0 0 29 29" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path
        d="M21.6894 9.41918C21.9225 8.64989 21.6729 7.79397 21.6606 7.7486L21.6008 7.54442L21.3966 7.48461C21.3491 7.47017 20.4912 7.22268 19.726 7.45573C19.7446 6.33583 19.4063 5.12312 18.3153 4.03209L14.6421 0.358887L10.9689 4.03209C9.87786 5.12312 9.53962 6.33583 9.56024 7.45367C8.79095 7.22062 7.93504 7.47017 7.88967 7.48255L7.68549 7.54236L7.62568 7.74654C7.61124 7.79397 7.36375 8.65195 7.5968 9.41711C6.4769 9.39855 5.26419 9.73679 4.17316 10.8278L0.499954 14.501L4.17316 18.1742C5.26419 19.2653 6.4769 19.6035 7.59474 19.5829C7.36169 20.3522 7.61124 21.2081 7.62361 21.2534L7.68343 21.4576L7.88761 21.5174C7.93504 21.5319 8.79302 21.7794 9.55818 21.5463C9.53549 22.6662 9.8758 23.8769 10.9668 24.9679L14.64 28.6411L18.3132 24.9679C19.4043 23.8769 19.7425 22.6642 19.7177 21.5463C20.487 21.7794 21.3429 21.5298 21.3904 21.5154L21.5946 21.4556L21.6544 21.2514C21.6688 21.2039 21.9163 20.346 21.6833 19.5808C22.8032 19.6035 24.0138 19.2632 25.1048 18.1722L28.7801 14.4969L25.111 10.8278C24.02 9.73679 22.8073 9.39855 21.6894 9.41918ZM20.9573 8.1879C21.0274 8.56326 21.0625 9.17993 20.7655 9.51817C20.1302 9.63779 19.5528 9.84816 19.0805 10.0647C19.297 9.59242 19.5074 9.01494 19.627 8.37971C19.9652 8.08272 20.5798 8.11572 20.9573 8.1879ZM11.9692 12.4076C11.0081 13.6327 11.0081 15.3693 11.9692 16.5944C11.4969 16.9141 9.47362 18.1206 7.91236 16.5593L5.85404 14.501L7.91236 12.4427C9.47568 10.8794 11.4989 12.09 11.9692 12.4076ZM12.5838 7.77129L14.6421 5.71297L16.7004 7.77129C18.2637 9.33462 17.0551 11.3558 16.7355 11.8281C15.5104 10.867 13.7738 10.867 12.5487 11.8281C12.229 11.3599 11.0143 9.3408 12.5838 7.77129ZM12.7962 12.6572C13.8151 11.6384 15.4712 11.6404 16.488 12.6572C17.5068 13.676 17.5048 15.3322 16.488 16.349C15.4712 17.3657 13.8151 17.3678 12.7962 16.349C11.7774 15.3301 11.7794 13.674 12.7962 12.6572ZM16.7355 17.1739C17.0572 17.6442 18.2699 19.6612 16.7004 21.2308L14.6421 23.2891L12.5838 21.2308C11.0205 19.6674 12.229 17.6462 12.5487 17.1739C13.7738 18.135 15.5104 18.135 16.7355 17.1739ZM17.315 16.5944C18.2761 15.3693 18.2761 13.6327 17.315 12.4076C17.7852 12.0859 19.8023 10.8732 21.3718 12.4427L23.4301 14.501L21.3718 16.5593C19.8085 18.1227 17.7873 16.9141 17.315 16.5944ZM11.5237 4.58688L14.6421 1.46848L17.7626 4.58895C19.6641 6.49051 18.8742 8.82313 18.2349 10.0441C18.338 9.11187 18.1276 8.09303 17.2552 7.22062L14.64 4.60545L12.0269 7.21855C11.1524 8.09303 10.9441 9.10981 11.0473 10.042C10.412 8.82107 9.62212 6.48845 11.5237 4.58688ZM8.32691 8.1879C8.70227 8.11778 9.31894 8.08272 9.65718 8.37971C9.77474 9.01288 9.98717 9.59242 10.2037 10.0647C9.73143 9.84816 9.15394 9.63779 8.51871 9.51817C8.22378 9.17787 8.25678 8.56326 8.32691 8.1879ZM4.72795 17.6194L1.60955 14.501L4.72795 11.3826C6.62746 9.48311 8.96007 10.273 10.181 10.9083C9.24882 10.8051 8.23203 11.0176 7.35962 11.89L4.74651 14.5031L7.35962 17.1162C8.23203 17.9886 9.25088 18.199 10.181 18.0979C8.96007 18.7331 6.62952 19.521 4.72795 17.6194ZM8.32691 20.8183C8.25678 20.4429 8.22172 19.8262 8.51871 19.488C9.15394 19.3684 9.73143 19.158 10.2037 18.9415C9.98717 19.4137 9.7768 19.9912 9.65718 20.6265C9.31894 20.9193 8.70433 20.8863 8.32691 20.8183ZM17.7605 24.4152L14.64 27.5356L11.5216 24.4172C9.62005 22.5157 10.41 20.183 11.0473 18.9641C10.9441 19.8964 11.1524 20.9131 12.0269 21.7876L14.64 24.4007L17.2552 21.7856C18.1276 20.9131 18.338 19.8943 18.2349 18.9621C18.8721 20.181 19.6621 22.5136 17.7605 24.4152ZM20.9573 20.8183C20.5819 20.8884 19.9652 20.9235 19.627 20.6265C19.5074 19.9912 19.297 19.4137 19.0805 18.9415C19.5528 19.158 20.1302 19.3684 20.7655 19.488C21.0604 19.8242 21.0274 20.4388 20.9573 20.8183ZM24.5562 17.6194C22.6547 19.521 20.32 18.729 19.1011 18.0917C20.0333 18.1948 21.0501 17.9865 21.9246 17.1121L24.5377 14.499L21.9266 11.8879C21.0521 11.0134 20.0333 10.8072 19.1011 10.9103C20.32 10.273 22.6547 9.48105 24.5562 11.3826L27.6767 14.5031L24.5583 17.6215L24.5562 17.6194Z"
        fill="black"
        stroke="black"
        strokeWidth="0.05"
      />
    </svg>
  )
}
